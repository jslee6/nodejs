<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="/main.css" rel="stylesheet">
</head>

<body class="grey-bg">
    <%- include('nav.ejs') %>     
    
    <!-- html Ï≤òÎüº ÎÇòÏò§Î†§Î©¥ - Î°úÌëúÍ∏∞ = Îäî Î¨∏ÏûêÎÇò Ïà´ÏûêÏ≤òÎüº ÎÇòÏò¥ -->
    

    <div class="white-bg">
      <% for (let i = 0; i < Í∏ÄÎ™©Î°ù.length; i++){ %>
        <div class="list-box">
          <h4>
            <a href="/detail/<%= Í∏ÄÎ™©Î°ù[i]._id %>">
              <%= Í∏ÄÎ™©Î°ù[i].title %>
            </a>
            <a href="/edit/<%= Í∏ÄÎ™©Î°ù[i]._id %>">‚úèÔ∏è</a>
            <span class="delete">üóëÔ∏è</span>
          </h4>
          <p><%= Í∏ÄÎ™©Î°ù[i].content %></p>
        </div>
      <% } %>
    </div>

    <!-- <script>
      document.querySelectorAll('.delete')[0].addEventListener('click', function(){
        fetch('/abc', {
          method : 'POST',
          headers : { 
            'Content-Type' : 'application/json' 
          },
          body : JSON.stringify({a : 1})
        })
      })
    </script> AJAX 1 ÎÇ¥Ïó≠  -->

<script>

  document.querySelectorAll('.delete')[0].addEventListener('click', function(){
  fetch('/delete?docid=' + '<%= Í∏ÄÎ™©Î°ù[0]._id %>', {
    method : 'DELETE',
  })
})     //  ÏøºÎ¶¨Ïä§Ìä∏ÎßÅ ?  ajx ?

</script> 



   <!-- ÌèºÌÉúÍ∑∏ ÎßêÍ≥† ajax Î•º ÏÇ¨Ïö©Ìï†ÏàòÏûáÏùå. Ïù¥Í≤å ajax. get , post ,delete ,put Îì± Ï§ëÏöî!!! /abc ÌïòÏó¨ÏÑú server.js ÏóêÏÑú-->
  

  </body>
</html>